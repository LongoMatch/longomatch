<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.2.1" />
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
}

strong {
  font-weight: bold;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1 {
  border-bottom: 2px solid silver;
}
h2 {
  border-bottom: 2px solid silver;
  padding-top: 0.5em;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revision {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble,
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-right: 10%;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock {
  margin-right: 0%;
}
div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock > div.content {
  padding-left: 2.0em;
}

div.attribution {
  text-align: right;
}
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.verseblock div.content {
  white-space: pre;
}

div.imageblock div.content { padding-left: 0; }
div.imageblock img { border: 1px solid silver; }
span.image img { border-style: none; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: italic;
}
dd > *:first-child {
  margin-top: 0;
}

ul, ol {
    list-style-position: outside;
}
ol.olist2 {
  list-style-type: lower-alpha;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}

div.hlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hlist td {
  padding-bottom: 5px;
}
td.hlist1 {
  vertical-align: top;
  font-style: italic;
  padding-right: 0.8em;
}
td.hlist2 {
  vertical-align: top;
}

@media print {
  div#footer-badges { display: none; }
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-content {
  padding-left: 2.0em;
}

div.exampleblock-content {
  border-left: 2px solid silver;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<title>OABuild</title>
</head>
<body>
<div id="header">
<h1>OABuild</h1>
<span id="author">Ole Andre Ravnas</span><br />
<span id="email"><tt>&lt;<a href="mailto:ole.andre.ravnas@tandberg.com">ole.andre.ravnas@tandberg.com</a>&gt;</tt></span><br />
</div>
<div id="preamble">
<div class="sectionbody">
<p><em>OABuild</em> is a simplistic suite that provides Windows developers with an easy
and relatively fast way to build a selection of cool F/OSS projects in a
familiar environment using only native compilers.</p>
</div>
</div>
<h2>What is included</h2>
<div class="sectionbody">
<h3>OABuild v1 (obsolete/unmaintained)</h3>
<ul>
<li>
<p>
zlib
</p>
</li>
<li>
<p>
libjpeg
</p>
</li>
<li>
<p>
libpng
</p>
</li>
<li>
<p>
libxml2
</p>
</li>
<li>
<p>
glib (w/.NET bindings)
</p>
</li>
<li>
<p>
cairo (w/.NET bindings)
</p>
</li>
<li>
<p>
atk (w/.NET bindings)
</p>
</li>
<li>
<p>
pango (w/.NET bindings)
</p>
</li>
<li>
<p>
gtk+ (w/.NET bindings)
</p>
</li>
<li>
<p>
libglade (w/.NET bindings)
</p>
</li>
<li>
<p>
glade
</p>
</li>
<li>
<p>
gstreamer (w/.NET bindings)
</p>
</li>
<li>
<p>
gst-plugins-base
</p>
</li>
<li>
<p>
gst-plugins-good
</p>
</li>
<li>
<p>
gst-plugins-bad
</p>
</li>
<li>
<p>
gst-ffmpeg
</p>
</li>
<li>
<p>
D-Bus (w/GLib and .NET bindings)
</p>
</li>
<li>
<p>
Telepathy (telepathy-glib, telepathy-gabble and .NET bindings)
</p>
</li>
</ul>
<h3>OABuild v2 (work in progress)</h3>
<ul>
<li>
<p>
glib 2.16.1
</p>
</li>
<li>
<p>
ffmpeg r11247 (the revision currently suggested by gst-ffmpeg)
</p>
</li>
<li>
<p>
GStreamer
</p>
<ul>
<li>
<p>
-core: 0.10.20.1 (HEAD snapshot taken 2008-08-03 17:35)
</p>
</li>
<li>
<p>
-base: 0.10.20.1 (HEAD snapshot taken 2008-08-03 17:35)
</p>
</li>
<li>
<p>
-good: 0.10.9.1 (HEAD snapshot taken 2008-08-03 17:35)
</p>
</li>
<li>
<p>
-bad: 0.10.8.1 (HEAD snapshot taken 2008-08-03 17:35)
</p>
</li>
<li>
<p>
-ffmpeg: 0.10.3.1 (HEAD snapshot taken 2008-03-23 21:12)
</p>
</li>
<li>
<p>
gst-plugins-farsight: 0.12.7
</p>
</li>
</ul>
</li>
<li>
<p>
Farsight 2 HEAD (Courtesy of Haakon Sporsheim!)
</p>
</li>
<li>
<p>
GTK+ (HEAD, r19938)
</p>
</li>
<li>
<p>
Clutter (Courtesy of Haakon Sporsheim!)
</p>
</li>
<li>
<p>
Sofia-SIP (Courtesy of Haakon Sporsheim!)
</p>
</li>
<li>
<p>
libjpeg
</p>
</li>
<li>
<p>
libmms
</p>
</li>
</ul>
<p>This list will most likely grow in the future. Contributions are very welcome.</p>
</div>
<h2>Pre-requisities</h2>
<div class="sectionbody">
<ul>
<li>
<p>
MS Visual Studio 2008 (2005 for v1)
</p>
</li>
<li>
<p>
MS Windows SDK (latest version, added to MSVS' VC++ directories)
</p>
</li>
<li>
<p>
MS DirectX SDK (-----------------------""----------------------)
</p>
</li>
<li>
<p>
MS DirectShow BaseClasses Release_MBCS and Debug_MBCS compiled
   and with the directories added to MSVS' VC++ directories.
</p>
<ul>
<li>
<p>
For example:
</p>
</li>
</ul>
</li>
<li>
<p>
Include files:
</p>
<ul>
<li>
<p>
C:\Program Files\Microsoft SDKs\Windows\v6.0\Samples\Multimedia\DirectShow\BaseClasses
</p>
</li>
</ul>
</li>
<li>
<p>
Library files:
</p>
<ul>
<li>
<p>
C:\Program Files\Microsoft SDKs\Windows\v6.0\Samples\Multimedia\DirectShow\BaseClasses\Debug_MBCS
</p>
</li>
<li>
<p>
C:\Program Files\Microsoft SDKs\Windows\v6.0\Samples\Multimedia\DirectShow\BaseClasses\Release_MBCS
</p>
</li>
</ul>
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<p>Make sure you put the BaseClasses include directory first (at the
top), followed by the DirectX SDK and finally the Windows SDK.</p>
</td>
</tr></table>
</div>
<ul>
<li>
<p>
In the system-wide PATH:
</p>
</li>
<li>
<p>
bzr: <a href="http://bazaar-vcs.org/releases/win32/bzr-setup-latest.exe">http://bazaar-vcs.org/releases/win32/bzr-setup-latest.exe</a>
</p>
</li>
<li>
<p>
[v1 only] cvs: <a href="http://march-hare.com/archive/cvsnt-2.5.03.2382.msi">http://march-hare.com/archive/cvsnt-2.5.03.2382.msi</a>
</p>
</li>
<li>
<p>
[v1 only] svn: <a href="http://subversion.tigris.org/files/documents/15/38369/svn-1.4.4-setup.exe">http://subversion.tigris.org/files/documents/15/38369/svn-1.4.4-setup.exe</a>
</p>
</li>
<li>
<p>
python: <a href="http://python.org/ftp/python/2.5.1/python-2.5.1.msi">http://python.org/ftp/python/2.5.1/python-2.5.1.msi</a>
</p>
</li>
<li>
<p>
perl: <a href="http://downloads.activestate.com/ActivePerl/Windows/5.8/ActivePerl-5.8.8.820-MSWin32-x86-274739.msi">http://downloads.activestate.com/ActivePerl/Windows/5.8/ActivePerl-5.8.8.820-MSWin32-x86-274739.msi</a>
</p>
</li>
</ul>
</div>
<h2>Getting started</h2>
<div class="sectionbody">
<p>Start a Command Prompt as <em>Administrator</em> and change to a suitable
location, for example <em>c:\</em>. Then do:</p>
<h3>OABuild v2</h3>
<div class="listingblock">
<div class="content">
<pre><tt>md OABuild
cd OABuild
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/build
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/libintl-proxy
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/glib
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/ffmpeg
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/zlib
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/libjpeg
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/libmms
md gstreamer
cd gstreamer
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gst-builddeps builddeps
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gstreamer
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gst-plugins-base
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gst-plugins-good
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gst-plugins-bad
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gst-ffmpeg
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gst-plugins-farsight
cd ..
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/farsight2
md gtk+
cd gtk+
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/pixman
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/cairo
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/atk
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/pango
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/gtk+
cd ..
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/clutter
bzr branch http://bazaar.launchpad.net/~oleavr/oabuild/sofia-sip</tt></pre>
</div></div>
<p>Open the appropriate solution files (.sln) in the <em>build</em> subdirectory and
build them one by one. Previously there was only one huge solution, but this
monolithic approach was abandoned for two reasons:</p>
<ul>
<li>
<p>
MSVS becomes awfully slow and eats lots of memory when you have a massive
  amount of projects in one solution.
</p>
</li>
<li>
<p>
Having all sorts of unrelated projects in one solution makes it harder for
  people wanting to hack on, play around with or package only individual
  projects or groups of projects.
  E.g. people hacking on Telepathy might not want to be bothered with 100+
  GStreamer modules and vice versa.
</p>
</li>
</ul>
<p>The output ends up in build/windows/{Debug,Release,ReleaseWdkCrt} and will
be similar to the UNIX layout.</p>
<p>Note that binaries built by the Debug and Release configurations depend on
msvcr90[d].dll, whilst those built by ReleaseWdkCrt depend on msvcrt.dll.
The latter does however require the <a href="http://www.microsoft.com/whdc/devtools/WDK/default.mspx">Windows Driver Kit</a>.
There's some background info on how this is achieved <a href="http://kobyk.wordpress.com/2007/07/20/dynamically-linking-with-msvcrtdll-using-visual-c-2005/">here</a>.</p>
<h3>OABuild v1 (obsolete/unmaintained)</h3>
<div class="listingblock">
<div class="content">
<pre><tt>bzr branch http://projects.collabora.co.uk/~oleavr/branches/OABuild/
cd OABuild
bootstrap</tt></pre>
</div></div>
<p>If all went well you should now be able to open oabuild.sln, go
<em>Build Solution</em> and wait a few minutes.</p>
<p>The output ends up in the <em>Debug</em> subdirectory for debug builds
and <em>Release</em> for release builds. The output will be similar to
the UNIX layout, header-files in <em>include</em>, .lib files for
linking in <em>lib</em>, and executables, runtime libraries and .NET
assemblies in <em>bin</em>.</p>
</div>
<div id="footer">
<div id="footer-text">
Last updated 09-Sep-2008 00:51:06 W. Europe Daylight Time
</div>
</div>
</body>
</html>
